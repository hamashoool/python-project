ScreenManager:
    id: screen_manager

    Screen:
        name: "login"
        AsyncImage:
            source: "img//hello.png"
            pos_hint: {"center_x": .6, "center_y": .7}
        MDLabel:
            text: "Welcome!"
            size_hint: .8, None
            pos_hint: {"center_x": .5, "center_y": .7}
            font_size: '20sp'
            bold: True

        MDLabel:
            text: "Enter your login information"
            size_hint: .8, None
            pos_hint: {"center_x": .5, "center_y": .66}
            font_size: '11sp'
            theme_text_color: "Custom"
            text_color: 128/255.0, 128/255.0, 128/255.0, 1

        MDTextField:
            id: email_login
            hint_text: "Enter Your Email"
            size_hint: .8, None
            pos_hint: {"center_x": .5, "center_y": .5}

        MDTextField:
            id: password_login
            hint_text: "Enter Your Password"
            size_hint: .8, None
            pos_hint: {"center_x": .5, "center_y": .4}

        MDRaisedButton:
            id: but
            text: "Login"
            size_hint: .8, .08
            pos_hint: {"center_x": .5, "center_y": .25}
            on_release: app.login()

        MDRectangleFlatButton:
            id: but
            text: "Register"
            size_hint: .8, .08
            pos_hint: {"center_x": .5, "center_y": .15}
            theme_text_color: "Custom"
            text_color: 183/255.0, 28/255.0, 28/255.0, 1
            line_color: 183/255.0, 28/255.0, 28/255.0, 1
            on_release: root.current = 'registration'


    Screen:
        name: "registration"
        AsyncImage:
            source: "img//green.png"
            pos_hint: {"center_x": .7, "center_y": .85}
            size_hint: .5, .5
        MDLabel:
            text: "Welcome!"
            size_hint: .8, None
            pos_hint: {"center_x": .5, "center_y": .85}
            font_size: '20sp'
            bold: True

        MDLabel:
            text: "Fill the form to register"
            size_hint: .8, None
            pos_hint: {"center_x": .5, "center_y": .81}
            font_size: '12sp'
            theme_text_color: "Custom"
            text_color: 128/255.0, 128/255.0, 128/255.0, 1

        MDTextField:
            id: name_reg
            hint_text: "Enter Your Full Name"
            line_color_focus: 31/255.0, 184/255.0, 222/255.0, 1
            size_hint: .8, None
            pos_hint: {"center_x": .5, "center_y": .65}

        MDTextField:
            id: email_reg
            hint_text: "Enter Your Email"
            line_color_focus: 31/255.0, 184/255.0, 222/255.0, 1
            size_hint: .8, None
            pos_hint: {"center_x": .5, "center_y": .55}

        MDTextField:
            id: password_reg
            hint_text: "Enter Your Password"
            line_color_focus: 31/255.0, 184/255.0, 222/255.0, 1
            size_hint: .8, None
            pos_hint: {"center_x": .5, "center_y": .45}

        ListItemWithCheckbox:
            text: "Female"
            size_hint: .8, .1
            pos_hint: {"center_x": .5, "center_y": .35}

            LeftCheckbox:
                id: female_check
                group: 'group'

        ListItemWithCheckbox:
            text: "Savior"
            size_hint: .8, .1
            pos_hint: {"center_x": .5, "center_y": .25}

            LeftCheckbox:
                id: savior_check
                group: 'group'

        MDRaisedButton:
            id: but
            text: "Register"
            md_bg_color: (31/255.0, 184/255.0, 222/255.0, 1)
            size_hint: .8, .08
            pos_hint: {"center_x": .5, "center_y": .15}
            on_release: app.registration()
        MDRectangleFlatButton:
            id: but
            text: "Login"
            size_hint: .8, .08
            pos_hint: {"center_x": .5, "center_y": .06}
            theme_text_color: "Custom"
            text_color: 31/255.0, 184/255.0, 222/255.0, 1
            line_color: 31/255.0, 184/255.0, 222/255.0, 1
            on_release: root.current = 'login'
    Screen:
        name: "s3"
        MDNavigationLayout:

            ScreenManager:
                id: sscreens
                Screen:
                    name: 'shome'

                    MDIconButton:
                        icon: "alert-decagram-outline"
                        user_font_size: "154sp"
                        md_bg_color: app.theme_cls.primary_color
                        pos_hint: {"center_x": .5, "center_y": .5}
                        theme_text_color: "Custom"
                        text_color: 1, 1, 1, 1
                        on_release: app.rescue_me()
                Screen:
                    name: 'addSavior'

                    MDIconButton:
                        id: savior_search_button
                        icon: "magnify"
                        theme_text_color: "Custom"
                        text_color: app.theme_cls.primary_color
                        pos_hint: {"center_x": .1, "center_y": .8}
                        on_release: app.search_savior(search=True)

                    MDTextField:
                        id: savior_search
                        hint_text: "Enter Email"
                        size_hint: .65, None
                        pos_hint: {"center_x": .55, "center_y": .8}
                    ScrollView:
                        size_hint: (0.85, 0.75)
                        pos_hint: {'center_x': .5, 'y': .01}

                        MDList:
                            id: search_result_list
                    MDFloatingActionButton:
                        icon: "delete-empty-outline"
                        md_bg_color: app.theme_cls.primary_color
                        pos_hint: {'center_x': .85, 'y': .0351}
                        on_release: app.clear_list()

            MDToolbar:
                id: toolbar
                pos_hint: {"top": 1}
                elevation: 10
                title: "Rescue Girls"
                left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]

            MDNavigationDrawer:
                id: nav_drawer
                orientation: 'vertical'
                spacing: '8dp'
                padding: '8dp'

                MDLabel:
                    id: person_name
                    text: "KivyMD library"
                    font_style: "Button"
                    size_hint_y: None
                    height: self.texture_size[1]

                MDLabel:
                    id: person_email
                    text: "kivydevelopment@gmail.com"
                    font_style: "Caption"
                    size_hint_y: None
                    height: self.texture_size[1]

                ScrollView:
                    MDList:
                        OneLineIconListItem:
                            text: 'Home'
                            on_release:
                                root.ids.sscreens.current = 'shome'
                                nav_drawer.set_state('close')
                            IconLeftWidget:
                                icon: 'home'
                        OneLineIconListItem:
                            text: 'Add Savior'
                            on_release:
                                root.ids.sscreens.current = 'addSavior'
                                nav_drawer.set_state('close')
                            IconLeftWidget:
                                icon: 'account-plus'

                OneLineIconListItem:
                    text: 'Logout'
                    on_release: app.logout()
                    IconLeftWidget:
                        icon: 'logout'
    Screen:
        name: "s4"
        MDNavigationLayout:

            ScreenManager:
                id: sscreenss
                Screen:
                    name: 'sshome'

                    MDLabel:
                        text: 'Hey Savior'
                        pos_hint: {"center_x": .5, "center_y": .8}
                        size_hint: None, None
                        theme_text_color: "Custom"
                        text_color: 0, 0, 1, 1

                Screen:
                    name: 'salerts'

                    MDLabel:
                        text: 'Alerts Page'
                        pos_hint: {"center_x": .5, "center_y": .8}
                        size_hint: None, None
                        theme_text_color: "Custom"
                        text_color: 0, 0, 1, 1
                    ScrollView:
                        size_hint: (0.85, 0.75)
                        pos_hint: {'center_x': .5, 'y': .01}

                        MDList:
                            id: savior_alerts_list

            MDToolbar:
                id: toolbar2
                pos_hint: {"top": 1}
                elevation: 10
                title: "Rescue Girls"
                left_action_items: [["menu", lambda x: nav_drawer_two.set_state("open")]]
                md_bg_color: 0,208/255.0,1,1

            MDNavigationDrawer:
                id: nav_drawer_two
                orientation: 'vertical'
                spacing: '8dp'
                padding: '8dp'

                MDLabel:
                    id: person_name_1
                    text: "KivyMD library"
                    font_style: "Button"
                    size_hint_y: None
                    height: self.texture_size[1]
                    theme_text_color: "Custom"
                    text_color: 0,208/255.0,1,1

                MDLabel:
                    id: person_email_1
                    text: "kivydevelopment@gmail.com"
                    font_style: "Caption"
                    size_hint_y: None
                    height: self.texture_size[1]
                    theme_text_color: "Custom"
                    text_color: 0,208/255.0,1,1

                ScrollView:
                    MDList:
                        OneLineIconListItem:
                            md_bg_color: 0,208/255.0,1,1
                            text: 'Home'
                            on_release:
                                root.ids.sscreenss.current = 'sshome'
                                nav_drawer_two.set_state('close')
                            IconLeftWidget:
                                icon: 'home'
                                theme_text_color: "Custom"
                                text_color: 0,208/255.0,1,1
                        OneLineIconListItem:
                            md_bg_color: 0,208/255.0,1,1
                            text: 'Alerts'
                            on_release:
                                root.ids.sscreenss.current = 'salerts'
                                nav_drawer_two.set_state('close')
                            IconLeftWidget:
                                icon: 'alert'
                                theme_text_color: "Custom"
                                text_color: 0,208/255.0,1,1

                OneLineIconListItem:
                    text: 'Logout'
                    on_release: app.logout()
                    IconLeftWidget:
                        icon: 'logout'
                        theme_text_color: "Custom"
                        text_color: 0,208/255.0,1,1